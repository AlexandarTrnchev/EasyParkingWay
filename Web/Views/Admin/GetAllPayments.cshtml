@model Application.Payments.Models.PaymentDtoListModel
@* ToDo: must be made refactorin whit GetAllPayments.cshtml *@


<form asp-controller="Admin" asp-action="GetAllPayments" method="get">
    <div class="row">
        <div class="col-4">
            <input type="number" name="paymentId" class="form-control form-control-sm" placeholder="Enter payment ID" />
        </div>
        <div class="search col-4">
            <input type="submit" class="btn btn-primary" value="Search" />
        </div>
    </div>

</form>

<table class="table" id="data">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">User</th>
            <th scope="col">Create Date</th>
            <th scope="col">City</th>
            <th scope="col">Address</th>
            <th scope="col">Parking Name</th>
            <th scope="col">Place Number</th>
            <th scope="col">Amount</th>
            <th scope="col">Rent From</th>
            <th scope="col">Rent To</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Payments)
        {
            <tr class="data">
                <td>@item.Id</td>
                <td>@item.UserName</td>
                <td>@item.CreatedDate.ToString("dd MMM yyyy")</td>
                <td>@item.City</td>
                <td>@item.Address</td>
                <td>@item.ParkingName</td>
                <td>@item.ParkingNumber</td>
                <td>@item.Amount</td>
                <td>@item.RentFrom.ToString("dd MMM yyyy")</td>
                <td>@item.RentTo.ToString("dd MMM yyyy")</td>
            </tr>
        }
    </tbody>
</table>


<script>
    $(document).ready(function () {

        $('#data')

        $('#data').after('<div id="nav"></div>');
        var rowsShown = 20;
        var rowsTotal = $('#data tbody tr').length;
        var numPages = rowsTotal / rowsShown;
        for (i = 0; i < numPages; i++) {
            var pageNum = i + 1;
            $('#nav').append('<a href="#" rel="' + i + '">' + pageNum + '</a> ');
        }
        $('#data tbody tr').hide();
        $('#data tbody tr').slice(0, rowsShown).show();
        $('#nav a:first').addClass('active');
        $('#nav a').bind('click', function () {

            $('#nav a').removeClass('active');
            $(this).addClass('active');
            var currPage = $(this).attr('rel');
            var startItem = currPage * rowsShown;
            var endItem = startItem + rowsShown;
            $('#data tbody tr').css('opacity', '0.0').hide().slice(startItem, endItem).
                css('display', 'table-row').animate({ opacity: 1 }, 300);
        });
    });
</script>


<style>
    #data tr.data {
        display: none;
    }
</style>



